{% extends "base.html" %}

{% block lab %}Редактирование профиля{% endblock %}

{% block main %}
    <h1>Редактирование профиля</h1>
    
    {% if error %}
        <div style="color: #d32f2f; font-weight: bold; background-color: #ffebee; padding: 15px; border-radius: 5px; margin-bottom: 20px; border: 1px solid #f44336;">
            {{ error }}
        </div>
    {% endif %}
    
    <form method="post">
        <div style="margin-bottom: 15px;">
            <label for="username">Логин:</label><br>
            <input type="text" id="username" name="username" value="{{ user_data.get('name', '') }}" required 
                   style="padding: 8px; width: 250px;">
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="name">Имя и фамилия:</label><br>
            <input type="text" id="name" name="name" value="{{ user_data.get('name', '') }}" required 
                   style="padding: 8px; width: 250px;">
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="gender">Пол:</label><br>
            <select id="gender" name="gender" style="padding: 8px; width: 250px;">
                <option value="">Выберите пол</option>
                <option value="мужской" {% if user_data.get('gender') == 'мужской' %}selected{% endif %}>Мужской</option>
                <option value="женский" {% if user_data.get('gender') == 'женский' %}selected{% endif %}>Женский</option>
                <option value="другой" {% if user_data.get('gender') == 'другой' %}selected{% endif %}>Другой</option>
            </select>
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="password">Новый пароль (оставьте пустым, если не хотите менять):</label><br>
            <input type="password" id="password" name="password" 
                   placeholder="Введите новый пароль"
                   style="padding: 8px; width: 250px;">
        </div>
        
        <div style="margin-bottom: 15px;">
            <label for="confirm_password">Подтвердите новый пароль:</label><br>
            <input type="password" id="confirm_password" name="confirm_password" 
                   placeholder="Повторите новый пароль"
                   style="padding: 8px; width: 250px;">
        </div>
        
        <div>
            <button type="submit" name="action" value="save" 
                    style="padding: 10px 20px; background: #4CAF50; color: white; border: none; border-radius: 4px; margin-right: 10px;">
                Сохранить
            </button>
            <button type="submit" name="action" value="cancel" 
                    style="padding: 10px 20px; background: #9E9E9E; color: white; border: none; border-radius: 4px;">
                Отмена
            </button>
        </div>
    </form>
    
    <div style="margin-top: 20px;">
        <a href="/lab4/users">Вернуться к списку пользователей</a>
    </div>
{% endblock %}