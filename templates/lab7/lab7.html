<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Лабораторная 7 — Фильмы</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    table { border-collapse: collapse; width: 100%; margin-top: 15px; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    th { background: #f2f2f2; }
    .btn { padding: 6px 10px; cursor: pointer; }
    .btn-danger { background: #d32f2f; color: white; border: none; }
    .btn-edit { background: #1976d2; color: white; border: none; }
    .btn-add { background: #2e7d32; color: white; border: none; }
    .muted { color: #666; font-size: 14px; }
    .topbar { display: flex; gap: 10px; align-items: center; }

    .error-message{
      margin-top: 10px;
      padding: 10px 12px;
      border: 1px solid #d32f2f;
      background: #ffebee;
      color: #b71c1c;
      border-radius: 6px;
      display: none;
    }

    dialog { width: 520px; max-width: 95vw; border: 1px solid #ccc; border-radius: 10px; padding: 16px; }
    dialog::backdrop { background: rgba(0,0,0,0.3); }
    .form-row { display: flex; flex-direction: column; gap: 6px; margin-bottom: 10px; }
    input, textarea { padding: 8px; font-size: 14px; }
    textarea { min-height: 90px; resize: vertical; }
    .modal-actions { display: flex; gap: 10px; justify-content: flex-end; margin-top: 12px; }
  </style>
</head>
<body>
  <div class="topbar">
    <h1 style="margin:0;">Лабораторная работа 7 — Фильмы (REST)</h1>
    <button class="btn btn-add" id="add-film-btn">Добавить фильм</button>
    <a href="/" class="muted">На главную</a>
  </div>

  <p class="muted">Данные загружаются с бэкенда по адресу <code>/lab7/rest-api/films/</code></p>

  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Название (RU)</th>
        <th>Название (EN)</th>
        <th>Год</th>
        <th>Действия</th>
      </tr>
    </thead>
    <tbody id="films-tbody"></tbody>
  </table>

  <!-- блок для ошибок (как в методичке) -->
  <div id="error-message" class="error-message"></div>

  <!-- модальное окно -->
  <dialog id="film-modal">
    <h3 id="modal-title" style="margin-top:0;">Фильм</h3>

    <div class="form-row">
      <label for="title_ru">Название (RU)</label>
      <input id="title_ru" type="text">
    </div>

    <div class="form-row">
      <label for="title">Название (EN)</label>
      <input id="title" type="text">
    </div>

    <div class="form-row">
      <label for="year">Год</label>
      <input id="year" type="number">
    </div>

    <div class="form-row">
      <label for="description">Описание</label>
      <textarea id="description"></textarea>
    </div>

    <div class="modal-actions">
      <button class="btn" id="cancel-btn" type="button">Отмена</button>
      <button class="btn btn-edit" id="save-btn" type="button">Сохранить</button>
    </div>
  </dialog>

  <script src="/static/lab7/main.js"></script>
</body>
</html>
